<div id="sidebar">
	<div id="feed" class="box">
		<div class="content">
			<%= @setting.blog_feed_html %>
		</div>
	</div>
	
	<div id="categories" class="box">
		<div class="title">文章分类</div>
		<div class="content">
			<% if !@categories.blank? %>
				<ul>
			  <% for item in @categories %>
			    <li>
			    	<%= link_to "#{item.name}", :controller => "posts", :action => "index", :category => item.slug %>
						<span class="count">(<%= item.posts_count %>)</span>
			    </li>
			  <% end %>
				</ul>
			<% else %>
			  未设置分类
			<% end %>
		</div>
	</div>

	<div id="recent_posts" class="box">
		<div class="title">最新文章</div>
		<div class="content">
			<% cache("posts/sidebar/recent_posts") do %>
			<% if !@recent_posts.blank? %>
				<ul>
			  <% for item in @recent_posts %>
			    <li>
			    	<%= link_to h(item.title), :controller => "posts", :action => "show", :slug => item.slug %>
			    </li>
			  <% end %>
				</ul>
			<% else %>
			  暂时还未有文章发表
			<% end %>
			<% end %>
		</div>
	</div>
	
	<div id="recent_comments" class="box">
		<div class="title">最新评论</div>
		<div class="content">
			<% cache("posts/sidebar/recent_comments") do %>
			<% if !@recent_comments.blank? %>
				<ul>
			  <% for item in @recent_comments %>
					<% if item.post != nil %>
			    <li>
						<span class="author">
							<%= link_to h(item.author), :controller => "posts", :action => "show", :slug => item.post.slug %>:
						</span>
		    		<%= truncate(h(item.body),40) %>
			    </li>
					<% end %>
			  <% end %>
				</ul>
			<% else %>
			  暂时还未有文章发表
			<% end %>
			<% end %>
		</div>
	</div>
	
  <div class="box">
    <!-- Include the Google Friend Connect javascript library. -->
    <script type="text/javascript" src="http://www.google.com/friendconnect/script/friendconnect.js"></script>
    <!-- Define the div tag where the gadget will be inserted. -->
    <div id="div-1614357677172726258" style="width:260px;border:1px solid #cccccc;"></div>
    <!-- Render the gadget into a div. -->
    <script type="text/javascript">
    var skin = {};
    skin['BORDER_COLOR'] = '#cccccc';
    skin['ENDCAP_BG_COLOR'] = '#e0ecff';
    skin['ENDCAP_TEXT_COLOR'] = '#333333';
    skin['ENDCAP_LINK_COLOR'] = '#0000cc';
    skin['ALTERNATE_BG_COLOR'] = '#ffffff';
    skin['CONTENT_BG_COLOR'] = '#ffffff';
    skin['CONTENT_LINK_COLOR'] = '#0000cc';
    skin['CONTENT_TEXT_COLOR'] = '#333333';
    skin['CONTENT_SECONDARY_LINK_COLOR'] = '#7777cc';
    skin['CONTENT_SECONDARY_TEXT_COLOR'] = '#666666';
    skin['CONTENT_HEADLINE_COLOR'] = '#333333';
    skin['NUMBER_ROWS'] = '4';
    google.friendconnect.container.setParentUrl('/' /* location of rpc_relay.html and canvas.html */);
    google.friendconnect.container.renderMembersGadget(
     { id: 'div-1614357677172726258',
        site: '11268326237115645691' },
          skin);
    </script>
  </div>

</div>
